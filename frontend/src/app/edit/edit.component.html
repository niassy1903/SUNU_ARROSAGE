<!-- src/app/edit/edit.component.html -->

<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <app-sidebar></app-sidebar>

    <!-- Main Content -->
    <div class="col-md-10 offset-md-2 main-wrapper">
      <!-- Navbar -->
      <app-navbar></app-navbar>

      <main role="main" class="main-content">
        <div class="edit-form">
          <h2 class="text-center mb-4">ÉDITION</h2>
          <form (ngSubmit)="onSubmit()" #editForm="ngForm">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="prenom">Prénom</label>
                <input type="text" class="form-control" id="prenom" placeholder="Prénom" [(ngModel)]="user.prenom" name="prenom" required>
              </div>
              <div class="form-group col-md-6">
                <label for="nom">Nom</label>
                <input type="text" class="form-control" id="nom" placeholder="Nom" [(ngModel)]="user.nom" name="nom" required>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="telephone">Téléphone</label>
                <input type="text" class="form-control" id="telephone" placeholder="Téléphone" [(ngModel)]="user.telephone" name="telephone" required>
              </div>
              <div class="form-group col-md-6">
                <label for="adresse">Adresse</label>
                <input type="text" class="form-control" id="adresse" placeholder="Adresse" [(ngModel)]="user.adresse" name="adresse" required>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="role">Rôle</label>
                <select class="form-control" id="role" [(ngModel)]="user.role" name="role" required>
                  <option value="admin_simple">Admin Simple</option>
                  <option value="super_admin">Super Admin</option>
                </select>
              </div>
              <div class="form-group col-md-6">
                <label for="carte_rfid">Carte RFID</label>
                <input type="text" class="form-control" id="carte_rfid" placeholder="Carte RFID" [(ngModel)]="user.carte_rfid" name="carte_rfid" required>
              </div>
            </div>
            <button type="button" class="btn btn-custom btn-block" (click)="confirmUpdate()">
              <i class="fas fa-save mr-2"></i> METTRE À JOUR
            </button>
          </form>
        </div>
      </main>
    </div>
  </div>
</div>

<!-- Modal de confirmation de mise à jour -->
<div class="modal fade" id="updateConfirmationModal" tabindex="-1" aria-labelledby="updateConfirmationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateConfirmationModalLabel">Confirmation de mise à jour</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Êtes-vous sûr de vouloir mettre à jour cet utilisateur ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
        <button type="button" class="btn btn-custom" (click)="updateUser()">Mettre à jour</button>
        
      </div>
    </div>
  </div>
</div>
